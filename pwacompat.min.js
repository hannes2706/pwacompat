"use strict";function unused(){}!function(){if(!("onload"in XMLHttpRequest.prototype)||navigator.standalone)return;const t=["standalone","fullscreen","minimal-ui"],e=navigator.userAgent||"",n=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&(-1!==e.indexOf("Mobile/")||"standalone"in navigator)||false,o=Boolean(e.match(/(MSIE |Edge\/|Trident\/)/)),r="undefined"!=typeof Windows;let i,a;try{a=sessionStorage}catch(t){}function s(t){try{return document.head.querySelector(t)}catch(t){return null}}function c(t,e){const n="__pwacompat_"+t;return void 0!==e&&(a[n]=e),a[n]}function l(){i=s('link[rel="manifest"]');const t=i?i.href:"";if(!t)throw'can\'t find <link rel="manifest" href=".." />\'';const e=function(t){for(let e=0;e<t.length;++e){const n=t[e];try{return new URL("",n),t=>new URL(t||"",n).toString()}catch(t){}}return t=>t||""}([t,location]),n=c("manifest");if(n){try{d(JSON.parse(n),e)}catch(t){console.warn("PWACompat error",t)}return}const o=new XMLHttpRequest;o.open("GET",t),o.withCredentials="use-credentials"===i.getAttribute("crossorigin"),o.onload=()=>{try{const t=JSON.parse(o.responseText);c("manifest",o.responseText),d(t,e)}catch(t){console.warn("PWACompat error",t)}},o.send(null)}function p(t,e,n){if(s(t+n))return;const o=document.createElement(t);for(const t in e)o.setAttribute(t,e[t]);return document.head.appendChild(o),o}function u(t,e){e&&(!0===e&&(e="yes"),p("meta",{name:t,content:e},`[name="${t}"]`))}function f(t){const e=t.sizes.split(/\s+/g).map((t=>"any"===t?1/0:parseInt(t,10)||0));return{src:t.src,type:t.type,sizes:t.sizes,largestSize:Math.max.apply(null,e),purpose:t.purpose?t.purpose.split(/\s+/g):["any"]}}function d(e,i){const a=(e.icons||[]).map(f).sort(((t,e)=>e.largestSize-t.largestSize)),l=a.filter((t=>t.purpose.indexOf("any")>-1)),d=a.filter((t=>t.purpose.indexOf("maskable")>-1)),w=(d.length>0?d:l).map((t=>{const e={rel:"icon",href:i(t.src),sizes:t.sizes},o=`[sizes="${t.sizes}"]`;if(p("link",e,'[rel="icon"]'+o),n&&!(t.largestSize<120))return e.rel="apple-touch-icon",p("link",e,'[rel="apple-touch-icon"]'+o)})).filter(Boolean),b=s('meta[name="viewport"]'),y=b&&b.content||"",v=Boolean(y.match(/\bviewport-fit\s*=\s*cover\b/)),S=e.display,x=-1!==t.indexOf(S);if(u("mobile-web-app-capable",x),function(t,e){if(!n&&!r)return;const o=h(t);if(n){u("apple-mobile-web-app-status-bar-style",e?"black-translucent":o?"black":"default")}else{const e=function(){try{return Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar}catch(t){}}();if(!e)return;const n=o?255:0;e.foregroundColor={r:n,g:n,b:n,a:255},e.backgroundColor=function(t){const e=m(t);return{r:e[0],g:e[1],b:e[2],a:e[3]}}(t)}}(e.theme_color||"black",v),o){u("application-name",e.short_name),u("msapplication-tooltip",e.description),u("msapplication-starturl",i(e.start_url||".")),u("msapplication-navbutton-color",e.theme_color);const t=l[0];t&&u("msapplication-TileImage",i(t.src)),u("msapplication-TileColor",e.background_color)}if(u("theme-color",e.theme_color),!n){const t=(k=e.orientation,{por:"portrait",lan:"landscape"}[String(k||"").substr(0,3)]||"");return u("x5-orientation",t),u("screen-orientation",t),void("fullscreen"===S?(u("x5-fullscreen","true"),u("full-screen","yes")):x&&(u("x5-page-mode","app"),u("browsermode","application")))}var k;const _=e.background_color||"#f8f9fa",z=(h(_),function(t){let e;return(t||[]).filter((t=>"itunes"===t.platform)).forEach((t=>{if(t.id)e=t.id;else{const n=t.url.match(/id(\d+)/);n&&(e=n[1])}})),e}(e.related_applications));function O(t,e,n,o){const r=window.devicePixelRatio,i=g({width:t*r,height:e*r});return i.scale(r,r),i.fillStyle=_,i.fillRect(0,0,t,e),()=>{const t=i.canvas.toDataURL();return A(n,t),t}}function A(t,e){const n=document.createElement("link");n.setAttribute("rel","apple-touch-startup-image"),n.setAttribute("media",`(orientation: ${t})`),n.setAttribute("href",e),document.head.appendChild(n)}z&&u("apple-itunes-app",`app-id=${z}`),u("apple-mobile-web-app-capable",x),u("apple-mobile-web-app-title",e.short_name||e.name);const C=c("iOS");if(C)try{const t=JSON.parse(C);return A("portrait",t.p),A("landscape",t.l),void w.forEach((e=>{const n=t.i[e.href];n&&(e.href=n)}))}catch(t){}const E={i:{}};!function(t,e){const n=window.screen,o=O(n.width,n.height,"portrait"),r=O(n.height,n.width,"landscape");setTimeout((()=>{E.p=o(),setTimeout((()=>{E.l=r(),e()}),10)}),10)}(0,(function(){c("iOS",JSON.stringify(E))}))}function m(t){const e=g();return e.fillStyle=t,e.fillRect(0,0,1,1),e.getImageData(0,0,1,1).data||[]}function h(t){const e=m(t).map((t=>{const e=t/255;return e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),n=.2126*e[0]+.7152*e[1]+.0722*e[2];return Math.abs(1.05/(n+.05))>3}function g({width:t,height:e}={width:1,height:1}){const n=document.createElement("canvas");return n.width=t,n.height=e,n.getContext("2d")}a=a||{},"complete"===document.readyState?l():window.addEventListener("load",l)}();
